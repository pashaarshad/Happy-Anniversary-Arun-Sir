<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>💖 Happy Anniversary - A Message of Love</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="preload" href="img1.jpg" as="image">
    <link rel="preload" href="img2.jpg" as="image">
    <link rel="preload" href="audio.mp3" as="audio">
    
    <style>
        /* CSS Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ffe6f0 0%, #ffd1e3 25%, #ffb3d6 50%, #ff69b4 75%, #ff1493 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Floating Hearts Background */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            color: rgba(255, 20, 147, 0.6);
            font-size: 20px;
            animation: floatHeart 12s linear infinite;
            will-change: transform;
        }

        @keyframes floatHeart {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Main Container */
        .container {
            position: relative;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffe6f0, #ffd1e3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: opacity 1s ease-out;
        }

        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loading-heart {
            font-size: 4rem;
            animation: heartBeat 1.5s ease-in-out infinite;
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        .loading-text {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: #000000; /* Changed to black */
            margin-top: 20px;
            animation: fadeInOut 2s ease-in-out infinite;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* Envelope Section */
        .envelope-section {
            text-align: center;
            transition: all 1s ease-out;
            cursor: pointer; /* Make entire section clickable */
            padding: 20px; /* Add padding for larger click area */
        }

        .envelope-section.hidden {
            opacity: 0;
            transform: scale(0.8);
            pointer-events: none;
        }

        .envelope-section:hover {
            transform: scale(1.02); /* Slight hover effect for entire section */
        }

        .title {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: #000000; /* Changed to black */
            margin-bottom: 30px;
            text-shadow: 2px 2px 8px rgba(214, 51, 132, 0.3);
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            from { 
                text-shadow: 2px 2px 8px rgba(214, 51, 132, 0.3);
            }
            to { 
                text-shadow: 2px 2px 20px rgba(214, 51, 132, 0.8);
            }
        }

        .subtitle {
            font-size: 1.3rem;
            color: #000000; /* Changed to black */
            margin-bottom: 50px;
            font-weight: 300;
            animation: fadeInUp 1s ease-out 0.5s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* SVG Envelope */
        .envelope-container {
            position: relative;
            display: inline-block;
            cursor: pointer;
            transition: transform 0.3s ease;
            padding: 30px; /* Increased padding for larger clickable area */
            margin: 20px; /* Add margin for better spacing */
        }

        .envelope-container:hover {
            transform: scale(1.05);
        }

        .envelope-svg {
            width: 300px;
            height: 200px;
            filter: drop-shadow(0 15px 30px rgba(214, 51, 132, 0.4));
            animation: envelopePulse 2s ease-in-out infinite;
        }

        @keyframes envelopePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .envelope-flap {
            transform-origin: 50% 100%;
            transition: transform 2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .envelope-container.opened .envelope-flap {
            transform: rotateX(180deg);
        }

        /* Timer Button */
        .timer-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #ff69b4, #ff1493, #d63384);
            border-radius: 50%;
            border: 4px solid rgba(255, 255, 255, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            box-shadow: 0 10px 30px rgba(214, 51, 132, 0.6);
            animation: timerPulse 2s ease-in-out infinite;
            transition: all 0.3s ease;
            z-index: 10;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        @keyframes timerPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
        }

        .timer-button:hover {
            transform: translate(-50%, -50%) scale(1.1);
            box-shadow: 0 15px 40px rgba(214, 51, 132, 0.8);
        }

        .timer-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .timer-text {
            font-size: 0.9rem;
            text-align: center;
            line-height: 1.2;
        }

        .timer-button.completed {
            animation: buttonExplode 1.5s ease-out forwards;
        }

        @keyframes buttonExplode {
            0% { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            50% { 
                transform: translate(-50%, -50%) scale(1.8);
                opacity: 0.7;
            }
            100% { 
                transform: translate(-50%, -50%) scale(3);
                opacity: 0;
            }
        }

        /* Sparkle Effects */
        .sparkles {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 5;
        }

        .sparkle {
            position: absolute;
            font-size: 20px;
            color: gold;
            opacity: 0;
            animation: sparkleEffect 2s ease-out forwards;
        }

        @keyframes sparkleEffect {
            0% {
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: scale(1.2) rotate(180deg);
            }
            100% {
                opacity: 0;
                transform: scale(0) rotate(360deg);
            }
        }

        /* Instruction Text */
        .instruction-text {
            margin-top: 40px;
            font-size: 1.1rem;
            color: #000000; /* Changed to black */
            animation: breathe 2s ease-in-out infinite;
        }

        @keyframes breathe {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        /* Photo Gallery */
        .photo-gallery {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 2s ease-in-out;
            z-index: 3;
        }

        .photo-gallery.active {
            opacity: 1;
        }

        .photo-container {
            position: relative;
            width: 400px;
            height: 400px;
            margin-bottom: 40px;
        }

        .photo {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(214, 51, 132, 0.5);
            border: 6px solid rgba(255, 255, 255, 0.9);
            opacity: 0;
            transform: scale(0.3) rotateY(90deg);
            transition: all 2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .photo.active {
            opacity: 1;
            transform: scale(1) rotateY(0deg);
        }

        .photo-caption {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: #000000; /* Changed to black */
            text-align: center;
            margin-top: 20px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 1.5s ease-out;
            text-shadow: 2px 2px 8px rgba(214, 51, 132, 0.3);
        }

        .photo-caption.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Falling Hearts Animation */
        .falling-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 4;
            overflow: hidden;
        }

        .heart-fall {
            position: absolute;
            color: rgba(255, 20, 147, 0.8);
            font-size: 25px;
            animation: fallDown 3s linear infinite;
        }

        @keyframes fallDown {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Music Control */
        .music-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #ff69b4, #d63384);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(214, 51, 132, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
            opacity: 0;
            transform: scale(0);
        }

        .music-control.visible {
            opacity: 1;
            transform: scale(1);
        }

        .music-control:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 35px rgba(214, 51, 132, 0.6);
        }

        .music-icon {
            font-size: 1.5rem;
            color: white;
            animation: musicPulse 2s ease-in-out infinite;
        }

        @keyframes musicPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* Signature Message */
        .signature-message {
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.95), rgba(255, 182, 193, 0.9));
            padding: 15px 30px;
            border-radius: 15px;
            font-family: 'Dancing Script', cursive;
            font-size: 1.3rem;
            color: #000000;
            text-align: center;
            box-shadow: 0 10px 30px rgba(214, 51, 132, 0.3);
            border: 2px solid rgba(255, 105, 180, 0.5);
            z-index: 50;
            opacity: 0;
            transform: translateX(-50%) translateY(20px);
            transition: all 2s ease-out;
            font-weight: 500;
        }

        .signature-message.visible {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .signature-heart {
            color: #ff1493;
            font-size: 1.2em;
            animation: heartPulse 2s ease-in-out infinite;
        }

        @keyframes heartPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        .love-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, rgba(255, 255, 255, 0.98), rgba(255, 182, 193, 0.95));
            padding: 40px 60px;
            border-radius: 25px;
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            color: #000000; /* Changed to black for better readability */
            text-align: center;
            box-shadow: 0 20px 50px rgba(214, 51, 132, 0.4);
            border: 3px solid rgba(255, 105, 180, 0.6);
            z-index: 1000;
            animation: messageAppear 15s ease-in-out forwards; /* Extended to 15 seconds */
            font-weight: 600;
        }

        @keyframes messageAppear {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.3);
            }
            10% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.1);
            }
            90% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .title {
                font-size: 2.5rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .envelope-svg {
                width: 250px;
                height: 170px;
            }
            
            .timer-button {
                width: 100px;
                height: 100px;
                font-size: 1.3rem;
            }
            
            .timer-number {
                font-size: 2rem;
            }
            
            .timer-text {
                font-size: 0.8rem;
            }
            
            .photo-container {
                width: 300px;
                height: 300px;
            }
            
            .photo-caption {
                font-size: 1.8rem;
            }
            
            .love-message {
                font-size: 1.5rem;
                padding: 20px 30px;
            }
            
            .signature-message {
                font-size: 1.1rem;
                padding: 12px 25px;
                bottom: 8px;
            }
        }

        @media (max-width: 480px) {
            .title {
                font-size: 2rem;
            }
            
            .envelope-svg {
                width: 200px;
                height: 140px;
            }
            
            .timer-button {
                width: 90px;
                height: 90px;
                font-size: 1.1rem;
            }
            
            .timer-number {
                font-size: 1.8rem;
            }
            
            .timer-text {
                font-size: 0.7rem;
            }
            
            .photo-container {
                width: 250px;
                height: 250px;
            }
            
            .photo-caption {
                font-size: 1.5rem;
            }
            
            .signature-message {
                font-size: 0.9rem;
                padding: 10px 20px;
                bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-heart">💖</div>
        <div class="loading-text">Preparing your anniversary wishes...</div>
    </div>

    <!-- Floating Hearts Background -->
    <div class="floating-hearts" id="floatingHearts"></div>

    <!-- Falling Hearts (activated later) -->
    <div class="falling-hearts" id="fallingHearts"></div>

    <!-- Main Container -->
    <div class="container">
        <!-- Envelope Section -->
        <div class="envelope-section" id="envelopeSection">
            <h1 class="title">💖 Happy Anniversary, Arun Sir! 💖</h1>
            <p class="subtitle">With heartfelt wishes for your special day...</p>
            
            <div class="envelope-container" id="envelopeContainer">
                <svg class="envelope-svg" viewBox="0 0 300 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- Envelope Body -->
                    <rect x="30" y="70" width="240" height="120" rx="10" fill="#ffb3d6" stroke="#ff69b4" stroke-width="3"/>
                    
                    <!-- Envelope Flap -->
                    <polygon class="envelope-flap" points="30,70 150,70 270,70 150,130" fill="#ff69b4" stroke="#ff1493" stroke-width="3"/>
                    
                    <!-- Heart Seal -->
                    <circle cx="150" cy="100" r="20" fill="#ff1493"/>
                    <text x="150" y="110" text-anchor="middle" fill="white" font-size="24">💝</text>
                    
                    <!-- Decorative Elements -->
                    <circle cx="50" cy="50" r="3" fill="#ff69b4" opacity="0.6"/>
                    <circle cx="250" cy="50" r="3" fill="#ff69b4" opacity="0.6"/>
                    <circle cx="80" cy="200" r="3" fill="#ff69b4" opacity="0.6"/>
                    <circle cx="220" cy="200" r="3" fill="#ff69b4" opacity="0.6"/>
                </svg>
                
                <!-- Timer Button -->
                <div class="timer-button" id="timerButton">
                    <div class="timer-number" id="timerNumber">10</div>
                    <div class="timer-text">AUTO<br>OPEN</div>
                </div>
                
                <!-- Sparkles Container -->
                <div class="sparkles" id="sparkles"></div>
            </div>
            
            <p class="instruction-text">✨ A Special Anniversary Message Will Open Automatically in 10 Seconds ✨</p>
        </div>

        <!-- Photo Gallery -->
        <div class="photo-gallery" id="photoGallery">
            <div class="photo-container">
                <img class="photo" id="photo1" src="img1.jpg" alt="Beautiful Memory 1">
                <img class="photo" id="photo2" src="img2.jpg" alt="Beautiful Memory 2">
            </div>
            
            <div class="photo-caption" id="caption1">🎉 Celebrating Your Beautiful Journey Together 🎉</div>
            <div class="photo-caption" id="caption2">💫 May Your Love Continue to Shine Bright Always 💫</div>
        </div>
    </div>

    <!-- Music Control -->
    <div class="music-control" id="musicControl">
        <div class="music-icon" id="musicIcon">🎵</div>
    </div>

    <!-- Signature Message -->
    <div class="signature-message" id="signatureMessage">
        Made with <span class="signature-heart">♥</span> by Arshad
    </div>

    <!-- Background Audio -->
    <audio id="backgroundMusic1" preload="auto" autoplay muted="false">
        <source src="audio1.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    
    <audio id="backgroundMusic2" loop preload="auto" muted="false">
        <source src="audio2.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        // Global Variables
        let isOpened = false;
        let timerStarted = false;
        let countdown = 10;
        let timerInterval = null;
        let currentPhoto = 1;
        let musicPlaying = false;
        let photoInterval = null;
        let heartInterval = null;
        let fallingHeartInterval = null;
        let audio1Playing = false;
        let audio2Playing = false;

        // DOM Elements
        const loadingScreen = document.getElementById('loadingScreen');
        const envelopeSection = document.getElementById('envelopeSection');
        const envelopeContainer = document.getElementById('envelopeContainer');
        const timerButton = document.getElementById('timerButton');
        const timerNumber = document.getElementById('timerNumber');
        const sparkles = document.getElementById('sparkles');
        const photoGallery = document.getElementById('photoGallery');
        const photo1 = document.getElementById('photo1');
        const photo2 = document.getElementById('photo2');
        const caption1 = document.getElementById('caption1');
        const caption2 = document.getElementById('caption2');
        const musicControl = document.getElementById('musicControl');
        const musicIcon = document.getElementById('musicIcon');
        const signatureMessage = document.getElementById('signatureMessage');
        const backgroundMusic1 = document.getElementById('backgroundMusic1');
        const backgroundMusic2 = document.getElementById('backgroundMusic2');
        const floatingHearts = document.getElementById('floatingHearts');
        const fallingHearts = document.getElementById('fallingHearts');

        // Love Messages
        const loveMessages = [
            "🎉 Wishing you both a very Happy Anniversary! May your bond grow stronger with each passing year 🎉",
            "💫 May your love story continue to inspire everyone around you. Happy Anniversary! 💫",
            "🌟 Here's to many more years of happiness, love, and togetherness. Congratulations! 🌟",
            "💖 Your relationship is a beautiful example of love and commitment. Happy Anniversary! 💖",
            "🎊 May this special day bring you joy and remind you of all the wonderful memories you've created together 🎊",
            "✨ Wishing you both endless happiness and a lifetime of beautiful moments. Happy Anniversary! ✨"
        ];

        // Initialize when page loads
        window.addEventListener('load', () => {
            // Start music immediately and aggressively
            setTimeout(() => {
                startMusicSequence();
            }, 100);
            
            // Try multiple times to ensure audio starts
            setTimeout(() => {
                if (!musicPlaying) {
                    startMusicSequence();
                }
            }, 500);
            
            setTimeout(() => {
                if (!musicPlaying) {
                    startMusicSequence();
                }
            }, 1000);
            
            // Hide loading screen after 2 seconds
            setTimeout(() => {
                loadingScreen.classList.add('hidden');
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 1000);
            }, 2000);

            // Start floating hearts
            startFloatingHearts();
            
            // Show signature message after loading screen disappears
            setTimeout(() => {
                signatureMessage.classList.add('visible');
            }, 3000);
            
            // Start the 10-second timer after loading screen disappears
            setTimeout(() => {
                startCountdownTimer();
            }, 3000);
        });

        function startCountdownTimer() {
            if (timerStarted || isOpened) return;
            
            timerStarted = true;
            console.log('🕐 Starting 10-second countdown timer...');
            
            timerInterval = setInterval(() => {
                countdown--;
                timerNumber.textContent = countdown;
                
                // Add visual emphasis as countdown gets lower
                if (countdown <= 3) {
                    timerButton.style.animation = 'timerPulse 0.5s ease-in-out infinite';
                    timerButton.style.background = 'linear-gradient(45deg, #ff1493, #d63384, #ff69b4)';
                }
                
                if (countdown <= 0) {
                    clearInterval(timerInterval);
                    openEnvelope();
                }
            }, 1000);
        }

        function openEnvelope() {
            if (isOpened) return;
            
            console.log('✨ Timer completed! Opening envelope...');
            isOpened = true;
            
            // Timer completion animation
            timerNumber.textContent = '0';
            timerButton.classList.add('completed');
            
            // Button animation
            setTimeout(() => {
                timerButton.classList.add('completed');
            }, 100);
            
            // Envelope opening animation
            envelopeContainer.classList.add('opened');
            
            // Create sparkle effect
            createSparkles();
            
            // Show love message
            showLoveMessage();
            
            // Start music sequence
            startMusicSequence();
            
            // Transition to photos after 2.5 seconds
            setTimeout(() => {
                transitionToPhotos();
            }, 2500);
        }

        // Create Sparkle Effect
        function createSparkles() {
            const sparkleSymbols = ['✨', '⭐', '💫', '🌟', '💎', '🎆', '🎇', '💥'];
            
            for (let i = 0; i < 12; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.textContent = sparkleSymbols[Math.floor(Math.random() * sparkleSymbols.length)];
                
                // Position sparkles in a circle
                const angle = (360 / 12) * i;
                const distance = 80 + Math.random() * 40;
                const x = Math.cos(angle * Math.PI / 180) * distance;
                const y = Math.sin(angle * Math.PI / 180) * distance;
                
                sparkle.style.left = x + 'px';
                sparkle.style.top = y + 'px';
                sparkle.style.animationDelay = (i * 0.1) + 's';
                
                sparkles.appendChild(sparkle);
                
                // Remove sparkle after animation
                setTimeout(() => {
                    sparkle.remove();
                }, 2000);
            }
        }

        // Show Love Message
        function showLoveMessage() {
            const message = loveMessages[Math.floor(Math.random() * loveMessages.length)];
            const messageElement = document.createElement('div');
            messageElement.className = 'love-message';
            messageElement.textContent = message;
            
            document.body.appendChild(messageElement);
            
            // Remove message after animation (6 seconds)
            setTimeout(() => {
                messageElement.remove();
            }, 6000);
        }

        // Start Music Sequence - Audio1 first, then Audio2 loop
        function startMusicSequence() {
            if (backgroundMusic1 && !audio1Playing && !audio2Playing) {
                backgroundMusic1.volume = 0.7;
                backgroundMusic1.muted = false;
                
                // Force play with multiple attempts
                const playAudio = () => {
                    backgroundMusic1.play().then(() => {
                        audio1Playing = true;
                        musicPlaying = true;
                        musicIcon.textContent = '🎵';
                        console.log('Audio1 started successfully!');
                        
                        // When audio1 ends, start audio2
                        backgroundMusic1.addEventListener('ended', () => {
                            audio1Playing = false;
                            startBackgroundMusic2();
                        }, { once: true });
                    }).catch(e => {
                        console.log('Audio1 autoplay attempt failed:', e);
                        // Try again after a short delay
                        setTimeout(() => {
                            if (!audio1Playing && !audio2Playing) {
                                playAudio();
                            }
                        }, 200);
                    });
                };
                
                playAudio();
                
                // Fallback: start on any user interaction
                const startOnInteraction = () => {
                    if (!audio1Playing && !audio2Playing) {
                        playAudio();
                    }
                };
                
                document.addEventListener('click', startOnInteraction, { once: true });
                document.addEventListener('touchstart', startOnInteraction, { once: true });
                document.addEventListener('keydown', startOnInteraction, { once: true });
            }
        }

        // Start Background Music 2 (looping)
        function startBackgroundMusic2() {
            if (backgroundMusic2) {
                backgroundMusic2.volume = 0.6;
                backgroundMusic2.play().then(() => {
                    audio2Playing = true;
                    musicPlaying = true;
                    musicIcon.textContent = '🎵';
                    console.log('Audio2 started successfully!');
                }).catch(e => {
                    console.log('Audio2 play failed:', e);
                });
            }
        }

        // Try Auto-Play Music
        function tryAutoPlayMusic() {
            if (!musicPlaying && backgroundMusic1) {
                backgroundMusic1.volume = 0.5;
                backgroundMusic1.play().then(() => {
                    audio1Playing = true;
                    musicPlaying = true;
                    musicIcon.textContent = '🎵';
                    
                    // When audio1 ends, start audio2
                    backgroundMusic1.addEventListener('ended', () => {
                        audio1Playing = false;
                        startBackgroundMusic2();
                    });
                }).catch(e => {
                    console.log('Auto-play prevented, music will start on user interaction');
                });
            }
        }

        // Transition to Photos
        function transitionToPhotos() {
            // Hide envelope section
            envelopeSection.classList.add('hidden');
            
            // Show photo gallery
            photoGallery.classList.add('active');
            
            // Show music control
            musicControl.classList.add('visible');
            
            // Start falling hearts
            startFallingHearts();
            
            // Start photo slideshow
            startPhotoSlideshow();
        }

        // Start Photo Slideshow
        function startPhotoSlideshow() {
            // Show first photo immediately
            showPhoto(1);
            
            // Set interval for photo switching (increased to 7 seconds for better reading time)
            photoInterval = setInterval(() => {
                currentPhoto = currentPhoto === 1 ? 2 : 1;
                showPhoto(currentPhoto);
            }, 7000); // Changed from 4000 to 7000 (7 seconds)
        }

        // Show Specific Photo
        function showPhoto(photoNumber) {
            // Hide all photos and captions
            photo1.classList.remove('active');
            photo2.classList.remove('active');
            caption1.classList.remove('active');
            caption2.classList.remove('active');
            
            // Show selected photo and caption with better timing
            setTimeout(() => {
                if (photoNumber === 1) {
                    photo1.classList.add('active');
                    setTimeout(() => {
                        caption1.classList.add('active');
                    }, 800); // Caption appears after photo
                } else {
                    photo2.classList.add('active');
                    setTimeout(() => {
                        caption2.classList.add('active');
                    }, 800); // Caption appears after photo
                }
            }, 200);
        }

        // Start Floating Hearts
        function startFloatingHearts() {
            const hearts = ['💖', '💕', '💝', '💗', '💞', '💓', '💘', '❤️', '💜', '🧡'];
            
            heartInterval = setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 2 + 's';
                heart.style.animationDuration = (Math.random() * 4 + 8) + 's';
                
                floatingHearts.appendChild(heart);
                
                // Remove heart after animation
                setTimeout(() => {
                    heart.remove();
                }, 12000);
            }, 800);
        }

        // Start Falling Hearts
        function startFallingHearts() {
            const hearts = ['💖', '💕', '💝', '💗', '💞', '💓', '💘', '❤️'];
            
            fallingHeartInterval = setInterval(() => {
                // Create multiple hearts
                for (let i = 0; i < 3; i++) {
                    const heart = document.createElement('div');
                    heart.className = 'heart-fall';
                    heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                    heart.style.left = Math.random() * 100 + '%';
                    heart.style.animationDelay = (Math.random() * 1) + 's';
                    heart.style.animationDuration = (Math.random() * 2 + 3) + 's';
                    
                    fallingHearts.appendChild(heart);
                    
                    // Remove heart after animation
                    setTimeout(() => {
                        heart.remove();
                    }, 5000);
                }
            }, 600);
        }

        // Music Control Toggle
        musicControl.addEventListener('click', () => {
            if (musicPlaying) {
                // Pause both audio files
                if (audio1Playing) {
                    backgroundMusic1.pause();
                }
                if (audio2Playing) {
                    backgroundMusic2.pause();
                }
                musicIcon.textContent = '🔇';
                musicPlaying = false;
            } else {
                // Resume appropriate audio
                if (audio1Playing) {
                    backgroundMusic1.play().then(() => {
                        musicIcon.textContent = '🎵';
                        musicPlaying = true;
                    }).catch(e => {
                        console.log('Audio1 resume failed:', e);
                    });
                } else if (audio2Playing) {
                    backgroundMusic2.play().then(() => {
                        musicIcon.textContent = '🎵';
                        musicPlaying = true;
                    }).catch(e => {
                        console.log('Audio2 resume failed:', e);
                    });
                } else {
                    // Start from beginning
                    startMusicSequence();
                }
            }
        });

        // Handle visibility change (pause music when tab is hidden)
        document.addEventListener('visibilitychange', () => {
            if (document.hidden && musicPlaying) {
                if (audio1Playing) {
                    backgroundMusic1.pause();
                }
                if (audio2Playing) {
                    backgroundMusic2.pause();
                }
            } else if (!document.hidden && musicPlaying) {
                if (audio1Playing) {
                    backgroundMusic1.play().catch(e => {
                        console.log('Audio1 resume failed:', e);
                    });
                }
                if (audio2Playing) {
                    backgroundMusic2.play().catch(e => {
                        console.log('Audio2 resume failed:', e);
                    });
                }
            }
        });

        // Cleanup intervals on page unload
        window.addEventListener('beforeunload', () => {
            if (timerInterval) clearInterval(timerInterval);
            if (photoInterval) clearInterval(photoInterval);
            if (heartInterval) clearInterval(heartInterval);
            if (fallingHeartInterval) clearInterval(fallingHeartInterval);
        });

        // Add some extra sparkles when hovering over photos
        photoGallery.addEventListener('mouseenter', () => {
            if (isOpened) {
                createPhotoSparkles();
            }
        });

        function createPhotoSparkles() {
            const sparkleSymbols = ['✨', '⭐', '💫'];
            
            for (let i = 0; i < 5; i++) {
                const sparkle = document.createElement('div');
                sparkle.textContent = sparkleSymbols[Math.floor(Math.random() * sparkleSymbols.length)];
                sparkle.style.position = 'absolute';
                sparkle.style.color = '#ffd700';
                sparkle.style.fontSize = '18px';
                sparkle.style.pointerEvents = 'none';
                sparkle.style.zIndex = '10';
                sparkle.style.left = Math.random() * 100 + '%';
                sparkle.style.top = Math.random() * 100 + '%';
                sparkle.style.animation = 'sparkleEffect 1.5s ease-out forwards';
                
                photoGallery.appendChild(sparkle);
                
                setTimeout(() => {
                    sparkle.remove();
                }, 1500);
            }
        }

        console.log('🎉 Happy Anniversary Website Loaded! 🎉');
        console.log('💖 Created with love for Arun Sir 💖');
    </script>
</body>
</html>
